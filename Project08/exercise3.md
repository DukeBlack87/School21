# Уровни и типы логов

## Уровни логирования

В идеале логи пишутся во время работы всех IT-систем, однако если писать все подряд и «складывать в кучу», полезная информация превратится в хаос. Чтобы упростить поиск и чтение логов, их делят на уровни. Основных четыре:

1. Debug — запись масштабных переходов состояний, например, обращение к базе данных, старт/пауза сервиса, успешная обработка записи и пр.

2. Warning — нештатная ситуация, потенциальная проблема, может быть странный формат запроса или некорректный параметр вызова.

3. Error — типичная ошибка.

4. Fatal — тотальный сбой работоспособности, когда нет доступа к базе данных или сети, сервису не хватает места на жестком диске.

Дополнительно файл логирования может расширяться записями еще двух уровней:

5. Trace  — пошаговые записи процесса. Полезен, когда сложно локализовать ошибку.

6. Info — общая информация о работе службы или сервиса.

Работа с уровнями логирования регламентируется методическими документами и внутренними правилами организации. В них может определяться соответствие источника сообщения уровню логирования, значимость, порядок обработки каждого уровня и другие параметры.

## Типы логов

Для удобства обработки логов их делят на типы:

1. системные, связанные с системными событиями,

2. серверные, отвечающие за процесс обращения к серверу,

3. почтовые, работающие с отправлениями,

4. логи баз данных, которые отражают процессы обращения к базам данных,

5. авторизационные и аутентификационные, которые отвечают за процесс входа, выхода из системы, восстановление доступа и пр.

У каждого типа логов свой журнал записи. Для проверки логов авторизации нужно идти в журнал доступов, чтобы проверить загрузку системы — в журнал dmesg, за данными о запросах пользователей — в access_log. Когда одни логи пишутся отдельно от других, проще диагностировать ситуацию и найти источник проблемы.

## LOG

**Расширение LOG** – это файл журнала, который, как правило, хранится в формате обычного текстового файла и используются многими программами, в том числе и операционной системой, для хранения информации о системных процессах и их работе. Журнал обычно содержит записи, когда, в какое время и какие процессы программ были запрошены. Как правило, данная информация полезна для пользователей и программистов.

Веб-серверы также создают файлы журналов для отслеживания посетителей и контроля использования пропусктной способности. Статистика посещений программы позволяют веб-узлам анализировать лог-файлы через генерируемые графики и диаграммы, которые представляют зарегистрированные данные трафика веб-сайта в графическом формате.

Многие антивирусные и инсталляционные программы так же хранят информацию о сканировании на вирусы и обновлении в файлы журнала. Если есть ограничение на размер .LOG файла, то будет создан следующий LOG файл и данные будут писаться в него.

## Программы для просмотра логов

1. Download Analyzer - анализатор лог файлов веб-серверов специализированный на анализе загрузок файлов (дистрибутивов программного обеспечения, audio, видео, графических файлов).

2. LogViewer - Просмотр длинных логов. Особенность программы в загрузке небольших фрагментов файла, просматриваемых в данный момент, а не всего файла целиком. Это позволяет быстро открывать очень длинные лог-файлы. Можно выделить строки с определённым текстом.

3. Менеджер событий SolarWinds Security (бесплатная пробная версия) Автоматические меры защиты встроены в этот монитор журнала для Windows Server.

4. Сетевой монитор Paessler PRTG (БЕСПЛАТНАЯ ПРОБНАЯ ВЕРСИЯ) Монитор сети, сервера и приложений, включающий приемники журнала событий Windows и системного журнала.

5. Papertrail (БЕСПЛАТНЫЙ ПЛАН) Облачный менеджер логов и анализатор с бесплатной версией.

6. Loggly (БЕСПЛАТНАЯ ПРОБНАЯ ВЕРСИЯ) Онлайн-консолидатор логов с отличными инструментами анализа.

7. ManageEngine EventLog Analyzer (БЕСПЛАТНАЯ ПРОБНАЯ ВЕРСИЯ) Комплексный монитор событий для Windows Server и Linux.

8. Splunk Широко используемый монитор журналов с оповещениями в режиме реального времени, доступный для Windows, Mac OS и Linux.

9. XpoLog Интерактивный монитор журнала, который использует AI для обнаружения ошибок и вторжений.

10. LOGalyze Бесплатный монитор журнала с открытым исходным кодом.

11. Datadog Онлайн анализатор логов с живыми оповещениями.

12. EventTracker Анализатор и менеджер сообщений журнала для сред Windows.

13. LogDNA Облачный анализатор сообщений в реальном времени доступен по подписке.

14. ParserCap - инструмент для анализа сетевого трафика, предназначенный для специалистов в области информационной безопасности, системных администраторов, студентов и т.д. у которых есть необходимость в проведении технического анализа трафика записанного в формате PCAP (libpcap - ETHERNET и IEEE 802.11). Позволяет создавать фильтры для поиска ключевых слов в TCP заголовках (Документы, Мультимедия, Файлы, Логины, Пароли т.д.).

15. MailDetective - эффективное средство контроля электронной почты Вашей компании. Анализирует лог-файлы почтового сервера и выдает исчерпывающие отчеты по входящей и исходящей почте, распределению трафика, объему почты по отдельным почтовым адресам. Возможно формирование детальных отчетов по всей компании в целом и отдельным сотрудникам в частности, а также по интервалам времени.

16. 10-Strike Log-Analyzer - анализатор лог-файлов (формат NCSA) web-сервера (например, Apache). Создает различные отчеты и гистограммы. В программе имеется много настроек и фильтров, что позволит вам получить точную информацию о вашем сайте, скачиваемых файлах, и о том, кто и откуда к Вам приходит. Вы можете легко определить самые скачиваемые файлы, а также ресурсы, с которых к Вам приходит больше всего посетителей. Для каждого файла и реферрера можно построить отдельный отчет. У программы достаточно простой интерфейс и можно начинать работать сразу после установки без долгих настроек.

17. Syslog Message Collector - коллектор Syslog сообщений с последующей записью в MySQL. Полностью поддерживает стандарта Syslog (RFC 3164). Принимает сообщения от ОС, брандмауэров, коммутаторов, маршрутизаторов, модемов и т.д. Може работать в режиме сервиса. Все сообщения хранятся на MySQL сервере.

18. Small Syslog Server - производительный Syslog сервер для ОС Windows. Позволяет принимать события от ОС брандмауэров, коммутаторов, маршрутизаторов, модемов и т.д. Экспорт событий в TXT формат. Хранит все события в базе SQLite.

19. ProxyInspector - программа для анализа использования корпоративного доступа в интернет. Обеспечивает эффективный мониторинг, благодаря которому ваш корпоративный интернет не будет отвлекать сотрудников от работы, а, напротив, повысит производительность труда.

20. Internet Access Monitor для UserGate — программа, основной задачей которой является учет и контроль Интернет трафика.

21. Internet Access Monitor для MS ISA Server — программа, основной задачей которой является учет и контроль Интернет трафика.

22. Internet Access Monitor для Kerio WinRoute — программа, основной задачей которой является учет и контроль Интернет трафика.

23. Loganalyzer - незамысловатый, но довольно "шустрый" анализатор лог-файлов сервера Apache. Позволяет анализировать и экспортировать в Excel следующие статистические данные.

24. Alco (Apache Log Colorizing Tool) - Утилита для подсветки log-файлов web-сервера Apache. Написана на awk.

25. KDE LogViewer - Утилита для просмотра log-файлов для KDE. Имеет: фильтр, события, отображение строк разными цветами в зависимости от log-файла.

26. Logcheck - Простая утилита для фильтрации log-файлов на «не обычные» записи (в.т.ч. и с помощью регулярных выражений) и отправки отчета на e-mail.

27. LogMiner - Мощный анализатор log-файлов для Apache или другого web-сервера, использующего комбинированный формат файлов отчёта. Может выводить детализированную статистику визитов, трафика, навигационных путей, браузеров посетителей и их операционных систем.

28. LogMon - Утилита для мониторинга log-файлов в стиле 'tail -f’. Может выводить несколько log-файлов в одном терминале. Требует ncurses.

29. Logpipe - Многофункциональная и высокопроизводительная система для ротации log-файлов для Unix-систем. Синтаксис файла конфигурации ротатора почти полностью повторяет синтаксис newsyslog.conf под FreeBSD.

30. LogWatch - Система анализа и контроля работоспособности системы. Позволяет вести логи с привязкой к дате по всем операциям.

31. MultiTail- Аналог утилиты tail, позволяющий показывать данные из файлов в нескольких окнах одной консоли. Основан на ncurses.

32. php-syslog-ng - Модуль для syslog-ng, позволяющий сохранять сообщения в базе данных MySQL.

33. rb.log - Полноценный weblogger, написанный на Perl.

34. Root-Portal - Утилита для просмотра лог-файлов на рабочем столе Х-ов (root window). Основана на root-tail.

35. root-tail - Утилита для просмотра лог-файлов на рабочем столе Х-ов (root window).

36. Sarg (Squid Analysis Report Generator) - Генератор отчетов на основании анализа log-файла proxy-сервера Squid.

37. Sawmill - Анализатор логов. Понимает форматы log-файлов: Apache, BIND, Cisco, Exim, iptables, Postfix, Squid.

38. Squidview - Интерактивная консольная программа, которая мониторит log-файлы proxy-сервера Squid и отображает их на экране.

39. syslog-ng - Система журналирования событий следующего поколения.

40. Syslog2 - Читает сообщения поступающие в syslog в »realtime». Вызывает зарегистрированные обработчики событий на сообщения от определенных сервисов. Написана на Perl.

41. TextPad — это мощный текстовый редактор, предназначенный для работы с текстовыми файлами любых размеров (размер ограничен только свободной памятью компьютера).

42. Notepad++ - текстовый редактор, предназначенный для программистов и всех тех, кого не устраивает скромная функциональность входящего в состав Windows Блокнота.

43. Atom - бесплатный функциональный текстовый редактор, который предоставляет инструменты для совместной одновременной работы с кодом, имеет интеллектуальную систему автодополнения ввода, имеет режим совместимости с Vim и Emacs и многое другое.

44. EmEditor - это очень хороший HTML редактор. Поддерживает синтаксис HTML, PHP, ASP, Perl, Java, VBScript, Python.

45. FAR Manager - программа управления файлами и архивами в Windows. Программа работает в текстовом режиме и позволяет просто и наглядно выполнять большинство необходимых действий: просматривать файлы и каталоги, редактировать, копировать и переименовывать файлы, а также многое другое.